!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(1);document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded");const t=new URLSearchParams(window.location.search);if(t.has("project")){switch(t.get("project")){case"promise_wait-indicator":n.promise_waitIndicator_load()}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promise_waitIndicator_load=e.WaitLogicSimulated=e.WaitIndicatorText=void 0;const n=i(2);class a{constructor(t,e){this.inPlaceOfElement=t,this.cancelCallback=e,this.inPlaceOfElementDisplayBeforeHide="block",this.indicatorPosition=0}createWaitElement(){let t=document.createElement("div");return t.innerText="Simulated wait...",this.cancelCallback&&t.appendChild(this.createWaitCancelElement()),t.appendChild(this.createWaitIndicatorElement()),this.waitElement=t,t}createWaitIndicatorElement(){let t=document.createElement("div");return t.style.width="100%",t.style.textAlign="center",t.innerHTML=this.getIndicatorHtml(),this.waitIndicatorElement=t,t}createWaitCancelElement(){let t=document.createElement("button");return t.innerText="Cancel",t.style.marginLeft="10px",t.onclick=t=>!!this.cancelCallback&&(this.cancelCallback(t),!0),t}show(){this.inPlaceOfElementDisplayBeforeHide=this.inPlaceOfElement.style.display,this.inPlaceOfElement.style.display="none";let t=this.inPlaceOfElement.parentNode;t&&t.insertBefore(this.createWaitElement(),this.inPlaceOfElement)}getIndicatorHtml(){switch(this.indicatorPosition){case 0:return"/";case 1:return"&mdash;";case 2:return"\\";case 3:return"|";default:return"?"}}progress(){this.waitIndicatorElement&&(this.indicatorPosition+=1,this.indicatorPosition>3&&(this.indicatorPosition=0),this.waitIndicatorElement.innerHTML=this.getIndicatorHtml())}hide(){this.inPlaceOfElement&&(this.inPlaceOfElement.style.display=this.inPlaceOfElementDisplayBeforeHide),this.waitElement&&this.waitElement.remove()}}e.WaitIndicatorText=a;class r{constructor(t){this.waitIndicatorConstructor=t,this.simulatedWaitMs=2e3,this.indicatorUpdateIntervalMs=100}start(t){this.waitIndicator=new this.waitIndicatorConstructor(t,t=>{this.cancel(t)}),this.waitIndicator.show();let e=new Promise((t,e)=>{this.startResolve=t,this.startReject=e});return this.startWait(),this.startWaitProgressUpdater(),e}startWait(){let t=new Date;this.waitTimeout=setTimeout(()=>{this.startResolve&&this.startResolve(t)},this.simulatedWaitMs)}startWaitProgressUpdater(){this.waitInterval=setInterval(()=>{var t;null===(t=this.waitIndicator)||void 0===t||t.progress()},this.indicatorUpdateIntervalMs)}cancel(t){window.clearTimeout(this.waitTimeout),this.end(),this.startReject&&this.startReject(new Error(`Wait canceled due to ${t.currentTarget.innerText} ${t.type}`))}end(){var t;window.clearInterval(this.waitInterval),null===(t=this.waitIndicator)||void 0===t||t.hide()}}e.WaitLogicSimulated=r;class o{constructor(t){this.waitLogic=t,this.onButtonClicked=new n.Event}initialize(){this.initializeBody(),this.initializeButton()}initializeBody(){document.documentElement.style.height="100%",document.documentElement.style.zoom="500%",document.body.style.height="100%",document.body.style.display="flex",document.body.style.justifyContent="center",document.body.style.alignItems="center"}initializeButton(){let t=document.createElement("button");t.innerHTML="Try me!",t.onclick=()=>{this.onButtonClicked.trigger()},document.body.appendChild(t),this.buttonElement=t,this.ButtonClicked.on(()=>{this.buttonClicked()})}get ButtonClicked(){return this.onButtonClicked.expose()}buttonClicked(){this.buttonElement&&this.waitLogic.start(this.buttonElement).then(t=>{let e=Math.round(((new Date).getTime()-t.getTime())/1e3);setTimeout(()=>{alert(`Thanks for waiting. You clicked the "Try me!" button ${e} seconds ago.`)},0)}).catch(t=>{setTimeout(()=>{alert(t.message)},1)}).finally(()=>{this.waitLogic.end()})}}e.promise_waitIndicator_load=function(){new o(new r(a)).initialize()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;e.Event=class{constructor(){this.handlers=[]}on(t){this.handlers.push(t)}off(t){this.handlers=this.handlers.filter(e=>e!==t)}trigger(t){this.handlers.slice(0).forEach(e=>e(t))}expose(){return this}}}]);