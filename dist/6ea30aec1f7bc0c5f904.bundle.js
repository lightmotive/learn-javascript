!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(1);document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded");const t=new URLSearchParams(window.location.search);if(t.has("project")){switch(t.get("project")){case"promise_wait-indicator":n.promise_waitIndicator_load()}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promise_waitIndicator_load=void 0;const n=i(2);class o{constructor(){this.inPlaceOfElementDisplayBeforeHide="block",this.indicatorPosition=0}createWaitElement(){let t=document.createElement("div");return t.innerText="Simulated processing...",t.appendChild(this.createWaitIndicatorElement()),this.waitElement=t,t}createWaitIndicatorElement(){let t=document.createElement("div");return t.style.width="100%",t.style.textAlign="center",t.innerHTML=this.getIndicatorHtml(),this.waitIndicatorElement=t,t}show(t){this.inPlaceOfElement=t,this.inPlaceOfElementDisplayBeforeHide=t.style.display,t.style.display="none";let e=t.parentNode;e&&e.insertBefore(this.createWaitElement(),t)}getIndicatorHtml(){switch(this.indicatorPosition){case 0:return"/";case 1:return"&mdash;";case 2:return"\\";case 3:return"|";default:return"?"}}progress(){this.waitIndicatorElement&&(this.indicatorPosition+=1,this.indicatorPosition>3&&(this.indicatorPosition=0),this.waitIndicatorElement.innerHTML=this.getIndicatorHtml())}hide(){this.inPlaceOfElement&&(this.inPlaceOfElement.style.display=this.inPlaceOfElementDisplayBeforeHide),this.waitElement&&this.waitElement.remove()}}class r{constructor(t){this.waitIndicator=t,this.simulatedWaitMs=3e3,this.indicatorUpdateIntervalMs=100}start(t){let e=new Date;return this.waitIndicator.show(t),new Promise((t,i)=>{this.waitTimeout=setTimeout(()=>{t(e)},this.simulatedWaitMs),this.waitInterval=setInterval(()=>{this.waitIndicator.progress()},this.indicatorUpdateIntervalMs)})}cancel(){window.clearTimeout(this.waitTimeout)}end(){window.clearInterval(this.waitInterval),this.waitIndicator.hide()}}class s{constructor(t){this.waitLogic=t,this.onButtonClicked=new n.Event}initialize(){this.initializeBody(),this.initializeButton()}initializeBody(){document.documentElement.style.height="100%",document.documentElement.style.zoom="500%",document.body.style.height="100%",document.body.style.display="flex",document.body.style.justifyContent="center",document.body.style.alignItems="center"}initializeButton(){let t=document.createElement("button");t.innerHTML="Try me!",t.onclick=()=>{this.onButtonClicked.trigger()},document.body.appendChild(t),this.buttonElement=t,this.ButtonClicked.on(()=>{this.buttonClicked()})}get ButtonClicked(){return this.onButtonClicked.expose()}buttonClicked(){this.buttonElement&&this.waitLogic.start(this.buttonElement).then(t=>{let e=Math.round(((new Date).getTime()-t.getTime())/1e3);setTimeout(()=>{alert(`You clicked the button ${e} seconds ago.`)},0)}).catch(t=>{alert(t.message)}).finally(()=>{this.waitLogic.end()})}}e.promise_waitIndicator_load=function(){new s(new r(new o)).initialize()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;e.Event=class{constructor(){this.handlers=[]}on(t){this.handlers.push(t)}off(t){this.handlers=this.handlers.filter(e=>e!==t)}trigger(t){this.handlers.slice(0).forEach(e=>e(t))}expose(){return this}}}]);