!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(1);document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded");const t=new URLSearchParams(window.location.search);if(t.has("project")){switch(t.get("project")){case"promise_wait-indicator":n.promise_waitIndicator_load()}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.promise_waitIndicator_load=void 0;const n=i(2);class o{constructor(){this.waitElementId="wait-indicator",this.buttonElementId="wait-button",this.onButtonClicked=new n.Event}initialize(){this.initializeDOM()}initializeDOM(){document.documentElement.style.height="100%",document.documentElement.style.zoom="500%",document.body.style.height="100%",document.body.style.display="flex",document.body.style.justifyContent="center",document.body.style.alignItems="center",this.initializeIndicator(),this.initializeButton()}initializeIndicator(){let t=document.createElement("div");t.id=this.waitElementId,t.style.display="none",document.body.appendChild(t)}initializeButton(){let t=document.createElement("button");t.id=this.buttonElementId,t.innerHTML="Try me!",t.onclick=()=>{this.onButtonClicked.trigger()},document.body.appendChild(t)}get ButtonClicked(){return this.onButtonClicked.expose()}getIndicatorElement(){return document.getElementById(this.waitElementId)}getButtonElement(){return document.getElementById(this.buttonElementId)}startWait(){this.getIndicatorElement().style.display="block",this.getButtonElement().style.display="none"}updateIndicator(t){this.getIndicatorElement().innerHTML=`<div>Simulated processing...<div style="width: 100%; text-align: center;">${t}</div></div>`}endWait(){this.getIndicatorElement().style.display="none",this.getButtonElement().style.display=""}}class r{constructor(t){this.document=t,this.simulatedWaitMs=3e3,this.indicatorUpdateIntervalMs=100,this.indicatorPosition=0}initialize(){this.document.initialize(),this.document.ButtonClicked.on(()=>{this.buttonClicked()})}start(t){return this.document.startWait(),this.startTimer(t)}buttonClicked(){let t=new Date;this.start(t).then(t=>{let e=Math.round(((new Date).getTime()-t.getTime())/1e3);setTimeout(()=>{alert(`You clicked the button ${e} seconds ago.`)},0)}).catch(t=>{alert(t.message)}).finally(()=>{this.end()})}startTimer(t){return new Promise((e,i)=>{this.waitTimeout=setTimeout(()=>{e(t)},this.simulatedWaitMs),this.indicatorPosition=-1,this.waitInterval=setInterval(()=>{this.moveIndicator()},this.indicatorUpdateIntervalMs)})}getIndicatorCharacterByPosition(t){switch(t){case 0:return"/";case 1:return"--";case 2:return"\\";case 3:return"|";default:return"?"}}moveIndicator(){this.indicatorPosition+=1,this.indicatorPosition>3&&(this.indicatorPosition=0),this.document.updateIndicator(this.getIndicatorCharacterByPosition(this.indicatorPosition))}end(){window.clearInterval(this.waitInterval),this.document.endWait()}}e.promise_waitIndicator_load=function(){new r(new o).initialize()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;e.Event=class{constructor(){this.handlers=[]}on(t){this.handlers.push(t)}off(t){this.handlers=this.handlers.filter(e=>e!==t)}trigger(t){this.handlers.slice(0).forEach(e=>e(t))}expose(){return this}}}]);